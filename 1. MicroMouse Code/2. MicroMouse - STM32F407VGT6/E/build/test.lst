ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"test.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.test,"ax",%progbits
  18              		.align	1
  19              		.global	test
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	test:
  27              	.LFB130:
  28              		.file 1 "Core/Src/test.c"
   1:Core/Src/test.c **** #include <test.h>
   2:Core/Src/test.c **** 
   3:Core/Src/test.c **** UART_HandleTypeDef huart1;
   4:Core/Src/test.c **** DMA_HandleTypeDef hdma_usart1_rx;
   5:Core/Src/test.c **** PID_TypeDef pid;
   6:Core/Src/test.c **** 
   7:Core/Src/test.c **** uint8_t data[33];
   8:Core/Src/test.c **** uint8_t buffer = 100;
   9:Core/Src/test.c **** int16_t debug[100];
  10:Core/Src/test.c **** double angle, out, SetPoint = 0, Kp = 1.5, Ki = 0, Kd = 0;
  11:Core/Src/test.c **** 
  12:Core/Src/test.c **** void test()
  13:Core/Src/test.c **** {
  29              		.loc 1 13 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  14:Core/Src/test.c ****     HAL_GPIO_TogglePin(GPIOD, GPIO_PIN_13);
  37              		.loc 1 14 5 view .LVU1
  38 0002 4FF40051 		mov	r1, #8192
  39 0006 0248     		ldr	r0, .L3
  40 0008 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  41              	.LVL0:
  15:Core/Src/test.c **** }
  42              		.loc 1 15 1 is_stmt 0 view .LVU2
  43 000c 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 2


  44              	.L4:
  45 000e 00BF     		.align	2
  46              	.L3:
  47 0010 000C0240 		.word	1073875968
  48              		.cfi_endproc
  49              	.LFE130:
  51              		.section	.text.handle,"ax",%progbits
  52              		.align	1
  53              		.global	handle
  54              		.syntax unified
  55              		.thumb
  56              		.thumb_func
  57              		.fpu fpv4-sp-d16
  59              	handle:
  60              	.LFB131:
  16:Core/Src/test.c **** 
  17:Core/Src/test.c **** void handle()
  18:Core/Src/test.c **** {
  61              		.loc 1 18 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 0
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65 0000 08B5     		push	{r3, lr}
  66              		.cfi_def_cfa_offset 8
  67              		.cfi_offset 3, -8
  68              		.cfi_offset 14, -4
  19:Core/Src/test.c ****     while (buffer != 85) // wait 0x55
  69              		.loc 1 19 5 view .LVU4
  70              	.L6:
  71              		.loc 1 19 11 view .LVU5
  72              		.loc 1 19 19 is_stmt 0 view .LVU6
  73 0002 0F4B     		ldr	r3, .L10
  74 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  75              		.loc 1 19 11 view .LVU7
  76 0006 552B     		cmp	r3, #85
  77 0008 0CD0     		beq	.L9
  20:Core/Src/test.c ****     {
  21:Core/Src/test.c ****         HAL_UART_Receive(&huart1, &buffer, 1, 1000);
  78              		.loc 1 21 9 is_stmt 1 view .LVU8
  79 000a 4FF47A73 		mov	r3, #1000
  80 000e 0122     		movs	r2, #1
  81 0010 0B49     		ldr	r1, .L10
  82 0012 0C48     		ldr	r0, .L10+4
  83 0014 FFF7FEFF 		bl	HAL_UART_Receive
  84              	.LVL1:
  22:Core/Src/test.c ****         debug[0]++;
  85              		.loc 1 22 9 view .LVU9
  86              		.loc 1 22 14 is_stmt 0 view .LVU10
  87 0018 0B4A     		ldr	r2, .L10+8
  88 001a B2F90030 		ldrsh	r3, [r2]
  89              		.loc 1 22 17 view .LVU11
  90 001e 0133     		adds	r3, r3, #1
  91 0020 1380     		strh	r3, [r2]	@ movhi
  92 0022 EEE7     		b	.L6
  93              	.L9:
  23:Core/Src/test.c ****     }
  24:Core/Src/test.c ****     buffer = 70;
ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 3


  94              		.loc 1 24 5 is_stmt 1 view .LVU12
  95              		.loc 1 24 12 is_stmt 0 view .LVU13
  96 0024 064B     		ldr	r3, .L10
  97 0026 4622     		movs	r2, #70
  98 0028 1A70     		strb	r2, [r3]
  25:Core/Src/test.c ****     debug[1]++;
  99              		.loc 1 25 5 is_stmt 1 view .LVU14
 100              		.loc 1 25 10 is_stmt 0 view .LVU15
 101 002a 074A     		ldr	r2, .L10+8
 102 002c B2F90230 		ldrsh	r3, [r2, #2]
 103              		.loc 1 25 13 view .LVU16
 104 0030 0133     		adds	r3, r3, #1
 105 0032 5380     		strh	r3, [r2, #2]	@ movhi
  26:Core/Src/test.c ****     HAL_UART_Receive_DMA(&huart1, data, 33);
 106              		.loc 1 26 5 is_stmt 1 view .LVU17
 107 0034 2122     		movs	r2, #33
 108 0036 0549     		ldr	r1, .L10+12
 109 0038 0248     		ldr	r0, .L10+4
 110 003a FFF7FEFF 		bl	HAL_UART_Receive_DMA
 111              	.LVL2:
  27:Core/Src/test.c **** }
 112              		.loc 1 27 1 is_stmt 0 view .LVU18
 113 003e 08BD     		pop	{r3, pc}
 114              	.L11:
 115              		.align	2
 116              	.L10:
 117 0040 00000000 		.word	.LANCHOR0
 118 0044 00000000 		.word	huart1
 119 0048 00000000 		.word	debug
 120 004c 00000000 		.word	data
 121              		.cfi_endproc
 122              	.LFE131:
 124              		.global	__aeabi_i2d
 125              		.global	__aeabi_dmul
 126              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 127              		.align	1
 128              		.global	HAL_UART_RxCpltCallback
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv4-sp-d16
 134              	HAL_UART_RxCpltCallback:
 135              	.LVL3:
 136              	.LFB132:
  28:Core/Src/test.c **** 
  29:Core/Src/test.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart)
  30:Core/Src/test.c **** {
 137              		.loc 1 30 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
  31:Core/Src/test.c ****     /* Prevent unused argument(s) compilation warning */
  32:Core/Src/test.c ****     UNUSED(huart);
 141              		.loc 1 32 5 view .LVU20
  33:Core/Src/test.c ****     if (huart->Instance == USART1)
 142              		.loc 1 33 5 view .LVU21
 143              		.loc 1 33 14 is_stmt 0 view .LVU22
ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 4


 144 0000 0268     		ldr	r2, [r0]
 145              		.loc 1 33 8 view .LVU23
 146 0002 164B     		ldr	r3, .L20
 147 0004 9A42     		cmp	r2, r3
 148 0006 00D0     		beq	.L19
 149 0008 7047     		bx	lr
 150              	.L19:
  30:Core/Src/test.c ****     /* Prevent unused argument(s) compilation warning */
 151              		.loc 1 30 1 view .LVU24
 152 000a 10B5     		push	{r4, lr}
 153              		.cfi_def_cfa_offset 8
 154              		.cfi_offset 4, -8
 155              		.cfi_offset 14, -4
  34:Core/Src/test.c ****     {
  35:Core/Src/test.c ****         if (data[0] != 83)
 156              		.loc 1 35 9 is_stmt 1 view .LVU25
 157              		.loc 1 35 17 is_stmt 0 view .LVU26
 158 000c 144B     		ldr	r3, .L20+4
 159 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 160              		.loc 1 35 12 view .LVU27
 161 0010 532B     		cmp	r3, #83
 162 0012 02D0     		beq	.L14
  36:Core/Src/test.c ****         {
  37:Core/Src/test.c ****             handle();
 163              		.loc 1 37 13 is_stmt 1 view .LVU28
 164 0014 FFF7FEFF 		bl	handle
 165              	.LVL4:
  38:Core/Src/test.c ****             return;
 166              		.loc 1 38 13 view .LVU29
 167              	.L12:
  39:Core/Src/test.c ****         }
  40:Core/Src/test.c ****         debug[2]++;
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
  42:Core/Src/test.c ****         PID_Compute(&pid);
  43:Core/Src/test.c ****         HAL_UART_Receive_DMA(&huart1, data, 33);
  44:Core/Src/test.c ****     }
  45:Core/Src/test.c **** }...
 168              		.loc 1 45 1 is_stmt 0 view .LVU30
 169 0018 10BD     		pop	{r4, pc}
 170              	.LVL5:
 171              	.L14:
  40:Core/Src/test.c ****         debug[2]++;
 172              		.loc 1 40 9 is_stmt 1 view .LVU31
  40:Core/Src/test.c ****         debug[2]++;
 173              		.loc 1 40 14 is_stmt 0 view .LVU32
 174 001a 124A     		ldr	r2, .L20+8
 175 001c B2F90430 		ldrsh	r3, [r2, #4]
  40:Core/Src/test.c ****         debug[2]++;
 176              		.loc 1 40 17 view .LVU33
 177 0020 0133     		adds	r3, r3, #1
 178 0022 9380     		strh	r3, [r2, #4]	@ movhi
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
 179              		.loc 1 41 9 is_stmt 1 view .LVU34
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
 180              		.loc 1 41 24 is_stmt 0 view .LVU35
 181 0024 0E4C     		ldr	r4, .L20+4
 182 0026 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 5


 183              	.LVL6:
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
 184              		.loc 1 41 40 view .LVU36
 185 0028 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
 186              		.loc 1 41 45 view .LVU37
 187 002a 43EA0020 		orr	r0, r3, r0, lsl #8
 188 002e FFF7FEFF 		bl	__aeabi_i2d
 189              	.LVL7:
 190 0032 0022     		movs	r2, #0
 191 0034 4FF07C53 		mov	r3, #1056964608
 192 0038 FFF7FEFF 		bl	__aeabi_dmul
 193              	.LVL8:
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
 194              		.loc 1 41 56 view .LVU38
 195 003c 0022     		movs	r2, #0
 196 003e 0A4B     		ldr	r3, .L20+12
 197 0040 FFF7FEFF 		bl	__aeabi_dmul
 198              	.LVL9:
  41:Core/Src/test.c ****         angle = (((data[6] << 8) | data[5]) / 32768.0) * 180;
 199              		.loc 1 41 15 view .LVU39
 200 0044 094B     		ldr	r3, .L20+16
 201 0046 C3E90001 		strd	r0, [r3]
  42:Core/Src/test.c ****         PID_Compute(&pid);
 202              		.loc 1 42 9 is_stmt 1 view .LVU40
 203 004a 0948     		ldr	r0, .L20+20
 204 004c FFF7FEFF 		bl	PID_Compute
 205              	.LVL10:
  43:Core/Src/test.c ****         HAL_UART_Receive_DMA(&huart1, data, 33);
 206              		.loc 1 43 9 view .LVU41
 207 0050 2122     		movs	r2, #33
 208 0052 2146     		mov	r1, r4
 209 0054 0748     		ldr	r0, .L20+24
 210 0056 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 211              	.LVL11:
 212 005a DDE7     		b	.L12
 213              	.L21:
 214              		.align	2
 215              	.L20:
 216 005c 00100140 		.word	1073811456
 217 0060 00000000 		.word	data
 218 0064 00000000 		.word	debug
 219 0068 00806640 		.word	1080459264
 220 006c 00000000 		.word	angle
 221 0070 00000000 		.word	pid
 222 0074 00000000 		.word	huart1
 223              		.cfi_endproc
 224              	.LFE132:
 226              		.global	Kd
 227              		.global	Ki
 228              		.global	Kp
 229              		.global	SetPoint
 230              		.comm	out,8,8
 231              		.comm	angle,8,8
 232              		.comm	debug,200,4
 233              		.global	buffer
 234              		.comm	data,33,4
ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 6


 235              		.comm	pid,112,8
 236              		.comm	hdma_usart1_rx,96,4
 237              		.comm	huart1,68,4
 238              		.section	.bss.Kd,"aw",%nobits
 239              		.align	3
 242              	Kd:
 243 0000 00000000 		.space	8
 243      00000000 
 244              		.section	.bss.Ki,"aw",%nobits
 245              		.align	3
 248              	Ki:
 249 0000 00000000 		.space	8
 249      00000000 
 250              		.section	.bss.SetPoint,"aw",%nobits
 251              		.align	3
 254              	SetPoint:
 255 0000 00000000 		.space	8
 255      00000000 
 256              		.section	.data.Kp,"aw"
 257              		.align	3
 260              	Kp:
 261 0000 00000000 		.word	0
 262 0004 0000F83F 		.word	1073217536
 263              		.section	.data.buffer,"aw"
 264              		.set	.LANCHOR0,. + 0
 267              	buffer:
 268 0000 64       		.byte	100
 269              		.text
 270              	.Letext0:
 271              		.file 2 "c:\\make\\test\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\include\\machine\
 272              		.file 3 "c:\\make\\test\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\include\\sys\\_st
 273              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 274              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 275              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 276              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 277              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 278              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 279              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 280              		.file 11 "c:\\make\\test\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\include\\sys\\lo
 281              		.file 12 "c:\\make\\test\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\include\\sys\\_t
 282              		.file 13 "c:\\make\\test\\gcc-arm-none-eabi-9-2019-q4-major-win32\\lib\\gcc\\arm-none-eabi\\9.2.1\
 283              		.file 14 "c:\\make\\test\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\include\\sys\\re
 284              		.file 15 "Core/Inc/pid.h"
 285              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
ARM GAS  C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 test.c
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:18     .text.test:00000000 $t
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:26     .text.test:00000000 test
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:47     .text.test:00000010 $d
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:52     .text.handle:00000000 $t
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:59     .text.handle:00000000 handle
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:117    .text.handle:00000040 $d
                            *COM*:00000044 huart1
                            *COM*:000000c8 debug
                            *COM*:00000021 data
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:127    .text.HAL_UART_RxCpltCallback:00000000 $t
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:134    .text.HAL_UART_RxCpltCallback:00000000 HAL_UART_RxCpltCallback
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:216    .text.HAL_UART_RxCpltCallback:0000005c $d
                            *COM*:00000008 angle
                            *COM*:00000070 pid
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:242    .bss.Kd:00000000 Kd
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:248    .bss.Ki:00000000 Ki
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:260    .data.Kp:00000000 Kp
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:254    .bss.SetPoint:00000000 SetPoint
                            *COM*:00000008 out
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:267    .data.buffer:00000000 buffer
                            *COM*:00000060 hdma_usart1_rx
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:239    .bss.Kd:00000000 $d
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:245    .bss.Ki:00000000 $d
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:251    .bss.SetPoint:00000000 $d
C:\Users\anmh1\AppData\Local\Temp\cciaLMnb.s:257    .data.Kp:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_TogglePin
HAL_UART_Receive
HAL_UART_Receive_DMA
__aeabi_i2d
__aeabi_dmul
PID_Compute
